@using System.ComponentModel.DataAnnotations;
@using System.ComponentModel
@using System.Reflection

@namespace H.LowCode.Themes.AntBlazor

<Form Model="@model"
      OnFinish="OnFinish"
      OnFinishFailed="OnFinishFailed"
      LabelColSpan="8"
      WrapperColSpan="16">

    @* @foreach (var field in model)
    {
        <FormItem Name="@field.Key">
            <Input TValue="string" />
        </FormItem>
    } *@

    <FormItem Name="Field1">
        <Input TValue="string"></Input>
    </FormItem>
    @* <FormItem Name="Field2"> *@
    @*     <InputNumber TValue=""></InputNumber> *@
    @* </FormItem> *@
    <FormItem Name="Field3">
        <Input TValue="string"></Input>
    </FormItem>
    <FormItem Name="Field4">
        <Checkbox></Checkbox>
    </FormItem>
    <FormItem Name="Field5">
        <Switch></Switch>
    </FormItem>
    <FormItem Name="Field6">
        <RadioGroup TValue="string">
            <Radio>选项1</Radio>
            <Radio>选项2</Radio>
        </RadioGroup>
    </FormItem>
    <FormItem Name="Field7">
        <Input TValue="string"></Input>
    </FormItem>
    <FormItem Name="Field8">
        <Input TValue="string"></Input>
    </FormItem>

    <FormItem WrapperColOffset="8" WrapperColSpan="16">
        <Button Type="ButtonType.Primary" HtmlType="submit">
            Submit
        </Button>
    </FormItem>
</Form>

@code
{
    private Dictionary<string, object> model = new() {
        ["Field1"] = "字段1",
        ["Field2"] = 2,  //inputnumber
        ["Field3"] = "字段3",
        ["Field4"] = true,  //checkbox
        ["Field5"] = true,  //switch
        ["Field6"] = "字段6",  //radio
        ["Field7"] = "字段7",
        ["Field8"] = "字段8",
    };

    private void AddField()
    {
        model.Add("Field" + model.Count + 1, "");
    }

    private void OnFinish(EditContext editContext)
    {
        Console.WriteLine($"Success:{model.ToJson()}");
    }

    private void OnFinishFailed(EditContext editContext)
    {
        Console.WriteLine($"Failed:{model.ToJson()}");
    }
}