@page "/caseapp/test"
@namespace H.LowCode.Themes.AntBlazor
@inherits LowCodePageComponentBase
@layout AntBlazorThemeLayout

@inject IMetaAppService MetaAppService

<PageTitle>测试页</PageTitle>

<FormPageRender_Test></FormPageRender_Test>

@code {
    [Parameter]
    public string AppId { get; set; }

    [Parameter]
    public string PageId { get; set; }

    private PageSchema _pageSchema;
    private PageCascadingModel _pageCascadingModel;

    protected override async Task OnParametersSetAsync()
    {
        // _pageCascadingModel = new() { AppId = AppId, PageId = PageId, PageName = "..." };

        // _pageSchema = await LoadPageSchemaAsync();
        // SetPageModel(_pageSchema);

        await base.OnParametersSetAsync();
    }

    // private async Task<PageSchema> LoadPageSchemaAsync()
    // {
    //     var pageSchema = await MetaAppService.GetPageAsync(AppId, PageId);
    //     return pageSchema;
    // }

    // private void SetPageModel(PageSchema pageSchema)
    // {
    //     _pageCascadingModel.PageName = pageSchema.Name;
    //     _pageCascadingModel.PageLayout = pageSchema.PageProperty.PageLayout;
    // }
}
