<Flex Gap="middle" Justify="@_justify" Align="@_align" Style="@_boxStyle">
    <DropItemContainer ParentComponent="@_component" Style="min-height:150px;width:100%;"></DropItemContainer>
</Flex>

@code {
    [Parameter]
    public ComponentSchema Component{ get; set; }

    /// <summary>
    /// 保存初始的 Component，避免跟随 Component 变化
    /// </summary>
    private ComponentSchema _component;

    private string _boxStyle = "width:100%;height:auto;border-radius:6px;";
    private string _justify = "center";
    private string _align = "center";

    #region Init
    protected override void OnInitialized()
    {
        Init();

        base.OnInitialized();
    }

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
            RegisterEventDispatcher();
    }

    protected override bool ShouldRender()
    {
        return false;
    }

    private void Init()
    {
        if (_component == null)
            _component = Component.CopyNew();
    }

    private void RegisterEventDispatcher()
    {
        //订阅属性面板中的事件
        BlazorEventDispatcher.RegisterEvent("designengine.propertysetting.onchange", (value) =>
        {
            StateHasChanged();
        });
    }
    #endregion
}